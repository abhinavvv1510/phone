<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Palak or Phone</title>
  <style>
    body {
      background-color: #fff8f0;
      text-align: center;
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    h1 {
      margin-top: 20px;
      font-size: 3rem;
    }

    .emoji {
      position: absolute;
      font-size: 5rem;
      cursor: grab;
      user-select: none;
      transition: transform 0.2s;
    }

    #boy { top: 60%; left: 20%; }
    #girl { top: 60%; left: 60%; }
    #phone { top: 30%; left: 60%; }

    .hugging {
      transform: scale(1.3);
    }
  </style>
</head>
<body>

  <h1>Palak or Phone</h1>

  <div id="boy" class="emoji">ðŸ‘¦</div>
  <div id="girl" class="emoji">ðŸ‘§</div>
  <div id="phone" class="emoji">ðŸ“±</div>

  <script>
    const boy = document.getElementById('boy');
    const girl = document.getElementById('girl');
    const phone = document.getElementById('phone');

    let offsetX, offsetY;
    let dragging = false;

    boy.addEventListener('mousedown', (e) => {
      dragging = true;
      offsetX = e.clientX - boy.offsetLeft;
      offsetY = e.clientY - boy.offsetTop;
      boy.style.cursor = 'grabbing';
    });

    document.addEventListener('mouseup', () => {
      dragging = false;
      boy.style.cursor = 'grab';
    });

    document.addEventListener('mousemove', (e) => {
      if (!dragging) return;

      const x = e.clientX - offsetX;
      const y = e.clientY - offsetY;

      boy.style.left = `${x}px`;
      boy.style.top = `${y}px`;

      const boyRect = boy.getBoundingClientRect();
      const girlRect = girl.getBoundingClientRect();
      const phoneRect = phone.getBoundingClientRect();

      // Distance between boy and girl
      const distToGirl = Math.hypot(
        boyRect.left - girlRect.left,
        boyRect.top - girlRect.top
      );

      if (distToGirl < 80) {
        // Hug
        girl.classList.add('hugging');
        boy.classList.add('hugging');
      } else {
        girl.classList.remove('hugging');
        boy.classList.remove('hugging');
      }

      // Distance between boy and phone
      const distToPhone = Math.hypot(
        boyRect.left - phoneRect.left,
        boyRect.top - phoneRect.top
      );

      if (distToPhone < 120) {
        // Phone repels
        const dx = phoneRect.left - boyRect.left;
        const dy = phoneRect.top - boyRect.top;
        const angle = Math.atan2(dy, dx);
        const repelStrength = 100;

        const newX = phone.offsetLeft + Math.cos(angle) * repelStrength;
        const newY = phone.offsetTop + Math.sin(angle) * repelStrength;

        phone.style.left = `${Math.max(0, Math.min(window.innerWidth - phone.offsetWidth, newX))}px`;
        phone.style.top = `${Math.max(0, Math.min(window.innerHeight - phone.offsetHeight, newY))}px`;
      }
    });
  </script>
</body>
</html>

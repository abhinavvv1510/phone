<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Palak or Phone</title>
  <style>
    body {
      background-color: #fff8f0;
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      overflow: hidden;
    }

    h1 {
      text-align: center;
      font-size: 3rem;
      margin-top: 30px;
    }

    .emoji {
      position: absolute;
      font-size: 5rem;
      cursor: grab;
      user-select: none;
      transition: transform 0.3s ease;
    }

    #boy { top: 60%; left: 20%; }
    #girl { top: 60%; left: 60%; }
    #phone { top: 30%; left: 50%; }

    #heart {
      position: absolute;
      font-size: 3rem;
      display: none;
      z-index: 5;
    }

    .hugged {
      animation: hugBounce 0.4s ease-in-out infinite alternate;
    }

    @keyframes hugBounce {
      from { transform: scale(1); }
      to { transform: scale(1.2); }
    }
  </style>
</head>
<body>

  <h1>Palak or Phone</h1>

  <div id="boy" class="emoji">üë¶</div>
  <div id="girl" class="emoji">üëß</div>
  <div id="phone" class="emoji">üì±</div>
  <div id="heart">‚ù§Ô∏è</div>

  <script>
    const boy = document.getElementById('boy');
    const girl = document.getElementById('girl');
    const phone = document.getElementById('phone');
    const heart = document.getElementById('heart');

    let dragging = false;
    let offsetX = 0;
    let offsetY = 0;

    boy.addEventListener('mousedown', (e) => {
      dragging = true;
      offsetX = e.clientX - boy.offsetLeft;
      offsetY = e.clientY - boy.offsetTop;
    });

    document.addEventListener('mouseup', () => {
      dragging = false;
    });

    document.addEventListener('mousemove', (e) => {
      if (!dragging) return;

      // Move boy
      const x = e.clientX - offsetX;
      const y = e.clientY - offsetY;
      boy.style.left = `${x}px`;
      boy.style.top = `${y}px`;

      // Get positions
      const boyRect = boy.getBoundingClientRect();
      const girlRect = girl.getBoundingClientRect();
      const phoneRect = phone.getBoundingClientRect();

      // Check if boy is near girl (hug condition)
      const dxGirl = girlRect.left - boyRect.left;
      const dyGirl = girlRect.top - boyRect.top;
      const distToGirl = Math.sqrt(dxGirl * dxGirl + dyGirl * dyGirl);

      if (distToGirl < 120) {
        // Position boy next to girl
        boy.style.left = `${girl.offsetLeft - 60}px`;
        boy.style.top = `${girl.offsetTop}px`;

        // Show heart
        heart.style.display = 'block';
        heart.style.left = `${girl.offsetLeft - 20}px`;
        heart.style.top = `${girl.offsetTop - 40}px`;

        // Animate hug
        boy.classList.add('hugged');
        girl.classList.add('hugged');
      } else {
        heart.style.display = 'none';
        boy.classList.remove('hugged');
        girl.classList.remove('hugged');
      }

      // Check if boy is near phone (repel)
      const dxPhone = phoneRect.left - boyRect.left;
      const dyPhone = phoneRect.top - boyRect.top;
      const distToPhone = Math.sqrt(dxPhone * dxPhone + dyPhone * dyPhone);

      if (distToPhone < 100) {
        const angle = Math.atan2(dyPhone, dxPhone);
        const repelDistance = 100;
        const newX = phone.offsetLeft + Math.cos(angle) * repelDistance;
        const newY = phone.offsetTop + Math.sin(angle) * repelDistance;

        // Keep phone on screen
        const boundedX = Math.max(0, Math.min(window.innerWidth - 50, newX));
        const boundedY = Math.max(0, Math.min(window.innerHeight - 50, newY));
        phone.style.left = `${boundedX}px`;
        phone.style.top = `${boundedY}px`;
      }
    });
  </script>
</body>
</html>
